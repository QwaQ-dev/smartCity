import{ac as f,a4 as b,ad as w,B as L,ae as k,af as x,ag as O,Z as T,n as v,I as W,ab as D,L as I,U as M}from"./runtime.C1CtjVHv.js";function N(r){var e=w,u=L;f(null),b(null);try{return r()}finally{f(e),b(u)}}const z=new Set,A=new Set;function P(r,e,u,a){function n(t){if(a.capture||U.call(e,t),!t.cancelBubble)return N(()=>u.call(this,t))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?x(()=>{e.addEventListener(r,n,a)}):e.addEventListener(r,n,a),n}function C(r,e,u,a,n){var t={capture:a,passive:n},i=P(r,e,u,t);(e===document.body||e===window||e===document)&&k(()=>{e.removeEventListener(r,i,t)})}function U(r){var y;var e=this,u=e.ownerDocument,a=r.type,n=((y=r.composedPath)==null?void 0:y.call(r))||[],t=n[0]||r.target,i=0,p=r.__root;if(p){var _=n.indexOf(p);if(_!==-1&&(e===document||e===window)){r.__root=e;return}var h=n.indexOf(e);if(h===-1)return;_<=h&&(i=_)}if(t=n[i]||r.target,t!==e){O(r,"currentTarget",{configurable:!0,get(){return t||u}});var B=w,E=L;f(null),b(null);try{for(var s,g=[];t!==null;){var d=t.assignedSlot||t.parentNode||t.host||null;try{var c=t["__"+a];if(c!==void 0&&!t.disabled)if(T(c)){var[S,...q]=c;S.apply(t,[r,...q])}else c.call(t,r)}catch(o){s?g.push(o):s=o}if(r.cancelBubble||d===e||d===null)break;t=d}if(s){for(let o of g)queueMicrotask(()=>{throw o});throw s}}finally{r.__root=e,delete r.currentTarget,f(B),b(E)}}}function Z(r,e,u){if(r==null)return e(void 0),v;const a=W(()=>r.subscribe(e,u));return a.unsubscribe?()=>a.unsubscribe():a}let l=!1;function F(r,e,u){const a=u[e]??(u[e]={store:null,source:D(void 0),unsubscribe:v});if(a.store!==r)if(a.unsubscribe(),a.store=r??null,r==null)a.source.v=void 0,a.unsubscribe=v;else{var n=!0;a.unsubscribe=Z(r,t=>{n?a.source.v=t:M(a.source,t)}),n=!1}return I(a.source)}function G(){const r={};return k(()=>{for(var e in r)r[e].unsubscribe()}),r}function H(r){var e=l;try{return l=!1,[r(),l]}finally{l=e}}export{F as a,z as b,H as c,C as e,U as h,A as r,G as s};
